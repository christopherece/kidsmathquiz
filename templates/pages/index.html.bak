{% extends 'base.html' %}

{% block content %}

<div class="container">
  <h1>Quiz App</h1>
  <form>
    <div id="question1">
      <h2>Question 1:</h2>
      <p>What is the capital city of France?</p>
      <input type="radio" name="q1" value="a"> a) Paris<br>
      <input type="radio" name="q1" value="b"> b) Madrid<br>
      <input type="radio" name="q1" value="c"> c) London<br>
      <input type="radio" name="q1" value="d"> d) Rome<br>
      <br>
      <input type="button" value="Submit" onclick="submitAnswer('question1', 'question2', 'q1', 'a')">
    </div>

    <div id="question2" style="display: none;">
      <h2>Question 2:</h2>
      <p>What is the largest country in the world?</p>
      <input type="radio" name="q2" value="a"> a) Russia<br>
      <input type="radio" name="q2" value="b"> b) China<br>
      <input type="radio" name="q2" value="c"> c) United States<br>
      <input type="radio" name="q2" value="d"> d) Canada<br>
      <br>
      <input type="button" value="Submit" onclick="submitAnswer('question2', 'question3', 'q2', 'a')">
    </div>

    <div id="question3" style="display: none;">
      <h2>Question 3:</h2>
      <p>What is the highest mountain in the world?</p>
      <input type="radio" name="q3" value="a"> a) Mount Everest<br>
      <input type="radio" name="q3" value="b"> b) K2<br>
      <input type="radio" name="q3" value="c"> c) Kilimanjaro<br>
      <input type="radio" name="q3" value="d"> d) Denali<br>
      <br>
      <input type="button" value="Submit" onclick="submitAnswer('question3', 'question4', 'q3', 'a')">
    </div>

    <div id="question4" style="display: none;">
      <h2>Question 4:</h2>
      <p>What is the currency of Japan?</p>
      <input type="radio" name="q4" value="a"> a) Yen<br>
      <input type="radio" name="q4" value="b"> b) Won<br>
      <input type="radio" name="q4" value="c"> c) Dollar<br>
      <input type="radio" name="q4" value="d"> d) Euro<br>
      <br>
      <input type="button" value="Submit" onclick="submitAnswer('question4', 'result', 'q4', 'a')">
    </div>

    <div id="result" style="display: none;">
      <h2>Quiz Result:</h2>
      <p id="score"></p>
    </div>
  </form>
</div>

<script>
  let score = 0;

  function submitAnswer(currentQuestionId, nextQuestionId, answerName, correctAnswer) {
    const currentQuestion = document.getElementById(currentQuestionId);
    const nextQuestion = document.getElementById(nextQuestionId);
    const answer = document.querySelector(`input[name=${answerName}]:checked`);

    if (answer && answer.value === correctAnswer) {
      score++;
    }

    currentQuestion.style.display = 'none';
    nextQuestion.style.display = 'block';

    if (nextQuestionId === 'result') {
      showResult();
    }
  }

  function showResult() {
    const result = document.getElementById('result');
    const scoreDisplay = document.getElementById('score');
    scoreDisplay.textContent = `Your score: ${score}/${4}`;
    result.style.display = 'block';
  }
</script>

{% endblock %}